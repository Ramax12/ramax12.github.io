"use strict";var _createClass=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var About=function(){function i(t){var e=this;_classCallCheck(this,i),this.$element=$(t),this.$shareLink=this.$element.find(".about__share-link"),this.$share=this.$element.find(".about__share-block"),this.$slider=this.$element.find(".about__slider"),this.$scroll=this.$slider.find(".about__slider-scroll"),this.$left=this.$slider.find(".about__slider-arrow--prev"),this.$right=this.$slider.find(".about__slider-arrow--next"),this.$slides=this.$slider.find(".about__slider-item"),this.$currentNumber=this.$slider.find(".about__slider-number--current"),this.$totalNumber=this.$slider.find(".about__slider-number--total"),this.currentIndex=0,this.startX=null,this.canAnimate=!0,this.$expertsButton=this.$element.find(".about__experts-button"),this.$contentHide=this.$element.find(".about__experts-content-wrapper"),this.$expertsButtonTextShow=this.$element.find(".about__experts-button-text--show"),this.$expertsButtonTextHide=this.$element.find(".about__experts-button-text--hide"),this.setListeners(),this.changeNumber(),this.checkOpenBlock=function(t){e.$share.is(t.target)||0!==e.$share.has(t.target).length||(e.$shareLink.parent().removeClass("is-open"),document.body.removeEventListener("click",e.checkOpenBlock))}}return _createClass(i,[{key:"setListeners",value:function(){var i=this;new Plyr("#player");this.$expertsButton.each(function(e,t){$(t).on("click",function(t){t.preventDefault(),i.$contentHide.eq(e).toggleClass("is-show"),i.$expertsButtonTextShow.eq(e).toggleClass("is-hide"),i.$expertsButtonTextHide.eq(e).toggleClass("is-hide")})}),this.$shareLink.on("click",function(t){t.preventDefault(),i.$shareLink.parent().toggleClass("is-open"),i.$shareLink.parent().hasClass("is-open")&&setTimeout(function(){document.body.addEventListener("click",i.checkOpenBlock)},33)}),this.$slider.on("touchstart",function(t){i.startX=(t.touches||t.originalEvent.touches)[0].clientX}),this.$slider.on("touchmove",function(t){if(i.startX){var e=i.startX-(t.touches||t.originalEvent.touches)[0].clientX;15<e?(i.$right.trigger("click"),i.startX=null):e<-15&&(i.$left.trigger("click"),i.startX=null)}}),this.$left.on("click",function(t){t.preventDefault(),i.toLeftSlide()}),this.$right.on("click",function(t){t.preventDefault(),i.toRightSlide()}),$(window).on("resize",function(){var t=i.$scroll.width()*i.currentIndex;i.$scroll.scrollLeft(t)})}},{key:"toLeftSlide",value:function(){this.canAnimate&&(this.canAnimate=!1,this.currentIndex=this.currentIndex-1,this.$right.removeClass("is-disabled"),this.currentIndex<0&&(this.currentIndex=0),this.currentIndex<1&&this.$left.addClass("is-disabled"),this.moveSlider())}},{key:"toRightSlide",value:function(){this.canAnimate&&(this.canAnimate=!1,this.currentIndex=this.currentIndex+1,this.$left.removeClass("is-disabled"),this.currentIndex>this.$slides.length-1&&(this.currentIndex=this.$slides.length-1),this.currentIndex>this.$slides.length-2&&this.$right.addClass("is-disabled"),this.moveSlider())}},{key:"changeNumber",value:function(){var i=this;this.$totalNumber.each(function(t,e){e.textContent=i.$slides.length}),this.$currentNumber.each(function(t,e){e.textContent=i.currentIndex+1})}},{key:"moveSlider",value:function(){var t=this,e=this.$scroll.width()*this.currentIndex;this.changeNumber(),anime({targets:this.$scroll[0],scrollLeft:{value:e,duration:500,easing:"easeInOutCirc"},complete:function(){t.canAnimate=!0}})}}]),i}();$(function(){$(".about").each(function(t,e){return new About(e)})});var AboutSpecification=function(){function e(t){_classCallCheck(this,e),this.$element=$(t),this.$slider=this.$element.find(".about-specification__list"),this.$scroll=this.$slider.find(".about-specification__scroll"),this.$slides=this.$slider.find(".about-specification__item"),this.$dots=this.$slider.find(".about-specification__dots span"),this.currentIndex=0,this.startX=null,this.canAnimate=!0,this.setListeners()}return _createClass(e,[{key:"setListeners",value:function(){var i=this;this.$slider.on("touchstart",function(t){i.startX=(t.touches||t.originalEvent.touches)[0].clientX}),this.$slider.on("touchmove",function(t){if(i.startX){var e=i.startX-(t.touches||t.originalEvent.touches)[0].clientX;15<e?(i.canAnimate&&(i.canAnimate=!1,i.currentIndex=i.currentIndex+1,i.moveSlider()),i.startX=null):e<-15&&(i.canAnimate&&(i.canAnimate=!1,i.currentIndex=i.currentIndex-1,i.moveSlider()),i.startX=null)}})}},{key:"moveSlider",value:function(){var t=this,e=(this.$slides.eq(0).outerWidth()+parseInt(this.$slides.eq(0).css("margin-right"),!1))*this.currentIndex;this.currentIndex<0&&(this.currentIndex=0),this.currentIndex>this.$slides.length-1&&(this.currentIndex=this.$slides.length-1),this.$dots.each(function(t,e){$(e).removeClass("is-active")}),this.$dots.eq(this.currentIndex).addClass("is-active"),anime({targets:this.$scroll[0],scrollLeft:{value:e,duration:500,easing:"easeInOutCirc"},complete:function(){t.canAnimate=!0}})}}]),e}();$(function(){$(".about-specification").each(function(t,e){return new AboutSpecification(e)})});